<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>고급 네온사인</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      height: 100%;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #controls {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.7);
      padding: 1em;
      border-radius: 12px;
      z-index: 10;
      color: white;
      display: flex;
      flex-direction: column;
      gap: 10px;
      transition: opacity 0.3s;
    }

    input[type="text"], input[type="color"], input[type="range"], select {
      width: 100%;
    }

    #fullscreenBtn {
      margin-top: 10px;
      padding: 0.5em;
      background: #444;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    #neonContainer {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .neon-wrapper {
      display: inline-block;
      white-space: nowrap;
    }

    #neonText {
      display: inline-block;
      font-size: 4rem;
      font-weight: bold;
      color: white;
      text-shadow:
        0 0 5px #fff,
        0 0 10px var(--neon-color, #0ff),
        0 0 20px var(--neon-color, #0ff),
        0 0 40px var(--neon-color, #0ff);
      animation: flicker 2s infinite alternate;
    }

    @keyframes flicker {
      0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
        opacity: 1;
      }
      20%, 22%, 24%, 55% {
        opacity: 0.4;
      }
    }

    @keyframes rainbow {
      0% { color: red; --neon-color: red; }
      25% { color: yellow; --neon-color: yellow; }
      50% { color: lime; --neon-color: lime; }
      75% { color: cyan; --neon-color: cyan; }
      100% { color: red; --neon-color: red; }
    }

    @keyframes marquee {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }

    .marquee .neon-wrapper {
      animation: marquee 10s linear infinite;
    }

    .rainbow #neonText {
      animation: flicker 2s infinite alternate, rainbow 5s linear infinite;
    }

    @media (orientation: landscape) {
      #neonText {
        font-size: 6rem;
      }
    }

    @media (orientation: portrait) {
      #neonText {
        font-size: 3rem;
      }
    }
  </style>
</head>
<body>
  <div id="controls">
    <label>문구: <input type="text" id="textInput" placeholder="문구를 입력하세요" /></label>
    <label>스타일:
      <select id="effectSelect">
        <option value="normal">기본</option>
        <option value="marquee">흐르는 글씨</option>
        <option value="rainbow">레인보우</option>
      </select>
    </label>
    <label>네온 색상: <input type="color" id="neonColor" value="#00ffff" /></label>
    <button id="fullscreenBtn">전체화면</button>
  </div>

  <div id="neonContainer" class="normal">
    <div class="neon-wrapper">
      <div id="neonText">네온사인 텍스트</div>
    </div>
  </div>

  <script>
    const textInput = document.getElementById('textInput');
    const neonText = document.getElementById('neonText');
    const neonColor = document.getElementById('neonColor');
    const effectSelect = document.getElementById('effectSelect');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const controls = document.getElementById('controls');
    const container = document.getElementById('neonContainer');

    function updateStyle() {
      neonText.textContent = textInput.value || '네온사인 텍스트';
      neonText.style.setProperty('--neon-color', neonColor.value);

      // Remove previous effect classes
      container.className = '';
      neonText.className = '';
      document.querySelector('.neon-wrapper').className = 'neon-wrapper';

      const effect = effectSelect.value;
      if (effect === 'rainbow') {
        container.classList.add('rainbow');
      } else if (effect === 'marquee') {
        container.classList.add('marquee');
      }
    }

    textInput.addEventListener('input', updateStyle);
    neonColor.addEventListener('input', updateStyle);
    effectSelect.addEventListener('change', updateStyle);

    fullscreenBtn.addEventListener('click', () => {
      const elem = document.documentElement;
      if (!document.fullscreenElement) {
        elem.requestFullscreen().catch(err => alert(`전체화면 실패: ${err.message}`));
        controls.style.opacity = '0';
        controls.style.pointerEvents = 'none';
      } else {
        document.exitFullscreen();
      }
    });

    // When exiting fullscreen, show controls again
    document.addEventListener('fullscreenchange', () => {
      if (!document.fullscreenElement) {
        controls.style.opacity = '1';
        controls.style.pointerEvents = 'auto';
      }
    });

    updateStyle();
  </script>
</body>
</html>